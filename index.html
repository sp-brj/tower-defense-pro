<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tower Defense Pro</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div id="game-container">
        <!-- ===== –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ ===== -->
        <div id="main-menu" class="screen active">
            <h1>‚öîÔ∏è Tower Defense</h1>
            <p class="subtitle">–ó–∞—â–∏—Ç–∏ –±–∞–∑—É –æ—Ç –≤–æ–ª–Ω –≤—Ä–∞–≥–æ–≤</p>
            <div class="menu-buttons">
                <button class="main-btn primary" id="play-btn">‚ñ∂ –ò–ì–†–ê–¢–¨</button>
                <button class="main-btn" id="records-btn">üèÜ –†–µ–∫–æ—Ä–¥—ã</button>
                <button class="main-btn" id="settings-btn">‚öô –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            </div>
            <p class="version-info">v3.0 | –ö–ª–∞–≤–∏—à–∏: 1-6 –±–∞—à–Ω–∏, Q/W —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏, Space –≤–æ–ª–Ω–∞, Esc –ø–∞—É–∑–∞</p>
        </div>

        <!-- ===== –í–´–ë–û–† –°–õ–û–ñ–ù–û–°–¢–ò ===== -->
        <div id="difficulty-screen" class="screen">
            <h2>–í—ã–±–µ—Ä–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å</h2>
            <div class="difficulties">
                <div class="diff-card easy" data-diff="easy">
                    <div class="icon">üòä</div>
                    <h3>–õ—ë–≥–∫–∏–π</h3>
                    <p>–ú–Ω–æ–≥–æ –¥–µ–Ω–µ–≥, —Å–ª–∞–±—ã–µ –≤—Ä–∞–≥–∏</p>
                </div>
                <div class="diff-card normal" data-diff="normal">
                    <div class="icon">üòê</div>
                    <h3>–ù–æ—Ä–º–∞–ª—å–Ω—ã–π</h3>
                    <p>–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º</p>
                </div>
                <div class="diff-card hard" data-diff="hard">
                    <div class="icon">üò§</div>
                    <h3>–°–ª–æ–∂–Ω—ã–π</h3>
                    <p>–ú–∞–ª–æ –¥–µ–Ω–µ–≥, —Å–∏–ª—å–Ω—ã–µ –≤—Ä–∞–≥–∏</p>
                </div>
                <div class="diff-card nightmare" data-diff="nightmare">
                    <div class="icon">üíÄ</div>
                    <h3>–ö–æ—à–º–∞—Ä</h3>
                    <p>–í—ã–∂–∏–≤–∏ –µ—Å–ª–∏ —Å–º–æ–∂–µ—à—å!</p>
                </div>
            </div>
            <button class="back-btn" id="diff-back-btn">‚Üê –ù–∞–∑–∞–¥</button>
        </div>

        <!-- ===== –ù–ê–°–¢–†–û–ô–ö–ò ===== -->
        <div id="settings-screen" class="screen">
            <h2>‚öô –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
            <div class="settings-grid">
                <div class="setting-row">
                    <label>üîä –ó–≤—É–∫–∏</label>
                    <input type="range" id="sfx-volume" min="0" max="100" value="70">
                </div>
                <div class="setting-row">
                    <label>üéµ –ú—É–∑—ã–∫–∞</label>
                    <input type="range" id="music-volume" min="0" max="100" value="50">
                </div>
                <div class="setting-row">
                    <label>üì± –¢—É—Ç–æ—Ä–∏–∞–ª</label>
                    <input type="checkbox" id="show-tutorial" checked>
                </div>
                <div class="setting-row">
                    <label>‚ö° –ê–≤—Ç–æ–≤–æ–ª–Ω–∞</label>
                    <input type="checkbox" id="auto-wave">
                </div>
                <div class="setting-row">
                    <label>üéØ –†–∞–¥–∏—É—Å</label>
                    <input type="checkbox" id="show-range" checked>
                </div>
            </div>
            <button class="back-btn" id="settings-back-btn">‚Üê –ù–∞–∑–∞–¥</button>
        </div>

        <!-- ===== –†–ï–ö–û–†–î–´ ===== -->
        <div id="records-screen" class="screen">
            <h2>üèÜ –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∫–æ—Ä–¥–æ–≤</h2>
            <div class="records-list" id="records-list"></div>
            <button class="back-btn" id="records-back-btn">‚Üê –ù–∞–∑–∞–¥</button>
        </div>

        <!-- ===== –ò–ì–†–û–í–û–ô UI ===== -->
        <div id="ui-panel" style="display:none">
            <div class="ui-left">
                <div class="ui-item" id="money">
                    <span class="icon">üí∞</span>
                    <span class="value">200</span>
                </div>
                <div class="ui-item" id="lives">
                    <span class="icon">‚ù§Ô∏è</span>
                    <span class="value">20</span>
                </div>
                <div class="ui-item" id="wave">
                    <span class="icon">üåä</span>
                    <span class="value">0/20</span>
                </div>
                <div class="ui-item" id="score">
                    <span class="icon">‚≠ê</span>
                    <span class="value">0</span>
                </div>
            </div>
            <div class="ui-right">
                <button class="ui-btn" id="pause-btn" title="–ü–∞—É–∑–∞ (Esc)">‚è∏</button>
                <button class="ui-btn" id="mute-btn" title="–ó–≤—É–∫">üîä</button>
            </div>
        </div>

        <canvas id="gameCanvas" width="900" height="560" style="display:none"></canvas>

        <div id="hint" style="display:none">
            <span id="hint-text">1-6: –±–∞—à–Ω–∏ | Q: –æ–≥–æ–Ω—å | W: —Å–æ–ª–¥–∞—Ç—ã | Space: –≤–æ–ª–Ω–∞ | –ü–ö–ú: –≥–µ—Ä–æ–π/–∞–ø–≥—Ä–µ–π–¥</span>
        </div>

        <!-- ===== –ù–ò–ñ–ù–Ø–Ø –ü–ê–ù–ï–õ–¨ ===== -->
        <div id="bottom-panel" style="display:none">
            <div id="tower-panel">
                <button class="tower-btn basic selected" data-tower="basic">
                    <span class="hotkey">1</span>
                    <div class="icon">üî´</div>
                    <div class="name">–ü—É–ª–µ–º—ë—Ç</div>
                    <div class="cost">50$</div>
                </button>
                <button class="tower-btn frost" data-tower="frost">
                    <span class="hotkey">2</span>
                    <div class="icon">‚ùÑÔ∏è</div>
                    <div class="name">–ó–∞–º–æ—Ä–æ–∑–∫–∞</div>
                    <div class="cost">75$</div>
                </button>
                <button class="tower-btn sniper" data-tower="sniper">
                    <span class="hotkey">3</span>
                    <div class="icon">üéØ</div>
                    <div class="name">–°–Ω–∞–π–ø–µ—Ä</div>
                    <div class="cost">100$</div>
                </button>
                <button class="tower-btn cannon" data-tower="cannon">
                    <span class="hotkey">4</span>
                    <div class="icon">üí•</div>
                    <div class="name">–ü—É—à–∫–∞</div>
                    <div class="cost">125$</div>
                </button>
                <button class="tower-btn laser" data-tower="laser">
                    <span class="hotkey">5</span>
                    <div class="icon">‚ö°</div>
                    <div class="name">–õ–∞–∑–µ—Ä</div>
                    <div class="cost">200$</div>
                </button>
                <button class="tower-btn barracks" data-tower="barracks">
                    <span class="hotkey">6</span>
                    <div class="icon">‚öîÔ∏è</div>
                    <div class="name">–ö–∞–∑–∞—Ä–º–∞</div>
                    <div class="cost">70$</div>
                </button>
            </div>

            <div id="abilities-panel">
                <button class="ability-btn" id="ability-fire">
                    <span class="icon">‚òÑÔ∏è</span>
                    <span class="name">–û–≥–æ–Ω—å (Q)</span>
                    <span class="cooldown" id="fire-cooldown" style="display:none">30s</span>
                </button>
                <button class="ability-btn" id="ability-reinforce">
                    <span class="icon">üõ°Ô∏è</span>
                    <span class="name">–°–æ–ª–¥–∞—Ç—ã (W)</span>
                    <span class="cooldown" id="reinforce-cooldown" style="display:none">45s</span>
                </button>
            </div>

            <div id="wave-controls">
                <button id="speed-btn">‚ñ∂ x1</button>
                <button id="start-wave-btn">üöÄ –ù–∞—á–∞—Ç—å –≤–æ–ª–Ω—É</button>
            </div>
        </div>

        <!-- ===== –ü–ê–£–ó–ê ===== -->
        <div id="pause-overlay">
            <h2>‚è∏ –ü–ê–£–ó–ê</h2>
            <div class="menu-buttons">
                <button class="main-btn primary" id="resume-btn">‚ñ∂ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
                <button class="main-btn" id="restart-btn">‚Üª –†–µ—Å—Ç–∞—Ä—Ç</button>
                <button class="main-btn" id="exit-btn">üö™ –í –º–µ–Ω—é</button>
            </div>
        </div>

        <!-- ===== –¢–£–¢–û–†–ò–ê–õ ===== -->
        <div id="tutorial-overlay">
            <div class="tutorial-card">
                <h2 id="tutorial-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
                <div id="tutorial-content">
                    <p>–≠—Ç–æ –∏–≥—Ä–∞ <span class="highlight">Tower Defense</span>.</p>
                    <p>–¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –∑–∞—â–∏—Ç–∏—Ç—å –±–∞–∑—É –æ—Ç –≤–æ–ª–Ω –≤—Ä–∞–≥–æ–≤.</p>
                </div>
                <div class="tutorial-dots" id="tutorial-dots"></div>
                <div class="tutorial-nav">
                    <button class="back-btn" id="tutorial-skip">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
                    <button class="main-btn" id="tutorial-next">–î–∞–ª–µ–µ ‚Üí</button>
                </div>
            </div>
        </div>

        <!-- ===== –†–ï–ó–£–õ–¨–¢–ê–¢ ===== -->
        <div id="result-overlay">
            <h1 id="result-title">–ü–û–ë–ï–î–ê!</h1>
            <p id="result-subtitle"></p>
            <div class="new-record" id="new-record" style="display:none">üèÜ –ù–û–í–´–ô –†–ï–ö–û–†–î!</div>
            <div class="result-stats">
                <div class="result-stat">
                    <div class="label">–í–æ–ª–Ω</div>
                    <div class="value" id="result-waves">0</div>
                </div>
                <div class="result-stat">
                    <div class="label">–û—á–∫–∏</div>
                    <div class="value" id="result-score">0</div>
                </div>
                <div class="result-stat">
                    <div class="label">–£–±–∏—Ç–æ</div>
                    <div class="value" id="result-kills">0</div>
                </div>
                <div class="result-stat">
                    <div class="label">–ë–∞—à–µ–Ω</div>
                    <div class="value" id="result-towers">0</div>
                </div>
            </div>
            <div class="menu-buttons">
                <button class="main-btn primary" id="result-restart-btn">‚Üª –ï—â—ë —Ä–∞–∑</button>
                <button class="main-btn" id="result-menu-btn">üö™ –í –º–µ–Ω—é</button>
            </div>
        </div>

        <!-- ===== –ú–ï–ù–Æ –ê–ü–ì–†–ï–ô–î–ê ===== -->
        <div id="upgrade-menu">
            <button class="close-btn">&times;</button>
            <h3>
                <span id="upgrade-title">–ë–∞—à–Ω—è</span>
                <span class="level-stars" id="level-stars">‚òÖ‚òÖ‚òÖ</span>
            </h3>
            <div class="stats" id="upgrade-stats"></div>
            <button class="menu-btn upgrade-btn" id="upgrade-btn">–£–ª—É—á—à–∏—Ç—å</button>
            <button class="menu-btn sell-btn" id="sell-btn">–ü—Ä–æ–¥–∞—Ç—å</button>
        </div>
    </div>

    <!-- ===== –ó–ê–ì–†–£–ó–ö–ê –°–ö–†–ò–ü–¢–û–í ===== -->
    <!-- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è -->
    <script src="js/config.js"></script>

    <!-- –°–∏—Å—Ç–µ–º—ã -->
    <script src="js/systems/AudioSystem.js"></script>
    <script src="js/systems/SaveSystem.js"></script>

    <!-- –°—É—â–Ω–æ—Å—Ç–∏ -->
    <script src="js/entities/Particle.js"></script>
    <script src="js/entities/Enemy.js"></script>
    <script src="js/entities/Soldier.js"></script>
    <script src="js/entities/Projectile.js"></script>
    <script src="js/entities/Tower.js"></script>
    <script src="js/entities/Hero.js"></script>

    <!-- UI -->
    <script src="js/ui/Menu.js"></script>

    <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–≥—Ä–∞ -->
    <script src="js/game.js"></script>
</body>
</html>
